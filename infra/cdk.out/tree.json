{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.211.0"},"children":{"StaticWebsitesBucket":{"id":"StaticWebsitesBucket","path":"StaticWebsitesBucket","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.211.0"},"children":{"ExistingStaticWebsitesBucket":{"id":"ExistingStaticWebsitesBucket","path":"StaticWebsitesBucket/ExistingStaticWebsitesBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}},"BucketName":{"id":"BucketName","path":"StaticWebsitesBucket/BucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"BucketArn":{"id":"BucketArn","path":"StaticWebsitesBucket/BucketArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"StaticWebsitesBucket/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"StaticWebsitesBucket/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"StaticWebsitesBucket/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.211.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"StaticWebsitesBucket/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.211.0"}}}},"CreateProjectStack":{"id":"CreateProjectStack","path":"CreateProjectStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.211.0"},"children":{"CreateProjectFunction":{"id":"CreateProjectFunction","path":"CreateProjectStack/CreateProjectFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"CreateProjectStack/CreateProjectFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"CreateProjectStack/CreateProjectFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"CreateProjectStack/CreateProjectFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":secretsmanager:eu-south-2:",{"Ref":"AWS::AccountId"},":secret:github-token-??????"]]}},{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":secretsmanager:eu-south-2:",{"Ref":"AWS::AccountId"},":secret:github-config-??????"]]}},{"Action":"ses:SendEmail","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"CreateProjectFunctionServiceRoleDefaultPolicy65CCDA1A","roles":[{"Ref":"CreateProjectFunctionServiceRoleCF8E7F22"}]}}}}}}},"Code":{"id":"Code","path":"CreateProjectStack/CreateProjectFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"CreateProjectStack/CreateProjectFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"CreateProjectStack/CreateProjectFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-eu-south-2"},"s3Key":"35bcfcba9f345be5bef51ba37520be9292e649836c7b32777724c76c42ac7174.zip"},"environment":{"variables":{"GITHUB_TOKEN":"{{resolve:secretsmanager:github-token:SecretString}}","GITHUB_OWNER":"{{resolve:secretsmanager:github-config:SecretString:owner}}","GITHUB_REPO":"{{resolve:secretsmanager:github-config:SecretString:repo}}","FROM_EMAIL":"noreply@e-info.click"}},"handler":"index.handler","role":{"Fn::GetAtt":["CreateProjectFunctionServiceRoleCF8E7F22","Arn"]},"runtime":"nodejs18.x","timeout":30}}}}},"GitHubToken":{"id":"GitHubToken","path":"CreateProjectStack/GitHubToken","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"GitHubConfig":{"id":"GitHubConfig","path":"CreateProjectStack/GitHubConfig","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"CreateProjectApi":{"id":"CreateProjectApi","path":"CreateProjectStack/CreateProjectApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"name":"create-project-api"}}},"CloudWatchRole":{"id":"CloudWatchRole","path":"CreateProjectStack/CreateProjectApi/CloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportCloudWatchRole":{"id":"ImportCloudWatchRole","path":"CreateProjectStack/CreateProjectApi/CloudWatchRole/ImportCloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/CloudWatchRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"apigateway.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"]]}]}}}}},"Account":{"id":"Account","path":"CreateProjectStack/CreateProjectApi/Account","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAccount","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Account","aws:cdk:cloudformation:props":{"cloudWatchRoleArn":{"Fn::GetAtt":["CreateProjectApiCloudWatchRoleCF5C25E9","Arn"]}}}},"Deployment":{"id":"Deployment","path":"CreateProjectStack/CreateProjectApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"Automatically created by the RestApi construct","restApiId":{"Ref":"CreateProjectApi5DF64835"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"CreateProjectStack/CreateProjectApi/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"CreateProjectApiDeployment97BD9252f675faa5a59fefe02b1428cf76dd70ae"},"restApiId":{"Ref":"CreateProjectApi5DF64835"},"stageName":"prod"}}}}},"Endpoint":{"id":"Endpoint","path":"CreateProjectStack/CreateProjectApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"Default":{"id":"Default","path":"CreateProjectStack/CreateProjectApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.211.0","metadata":[]},"children":{"OPTIONS":{"id":"OPTIONS","path":"CreateProjectStack/CreateProjectApi/Default/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Default/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,Origin'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Fn::GetAtt":["CreateProjectApi5DF64835","RootResourceId"]},"restApiId":{"Ref":"CreateProjectApi5DF64835"}}}}}},"create-project":{"id":"create-project","path":"CreateProjectStack/CreateProjectApi/Default/create-project","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Default/create-project/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["CreateProjectApi5DF64835","RootResourceId"]},"pathPart":"create-project","restApiId":{"Ref":"CreateProjectApi5DF64835"}}}},"OPTIONS":{"id":"OPTIONS","path":"CreateProjectStack/CreateProjectApi/Default/create-project/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Default/create-project/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,Origin'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"CreateProjectApicreateproject3FEDB622"},"restApiId":{"Ref":"CreateProjectApi5DF64835"}}}}}},"POST":{"id":"POST","path":"CreateProjectStack/CreateProjectApi/Default/create-project/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"ApiPermission.CreateProjectStackCreateProjectApi4BA50C0B.POST..create-project":{"id":"ApiPermission.CreateProjectStackCreateProjectApi4BA50C0B.POST..create-project","path":"CreateProjectStack/CreateProjectApi/Default/create-project/POST/ApiPermission.CreateProjectStackCreateProjectApi4BA50C0B.POST..create-project","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["CreateProjectFunction0FC649A9","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:eu-south-2:",{"Ref":"AWS::AccountId"},":",{"Ref":"CreateProjectApi5DF64835"},"/",{"Ref":"CreateProjectApiDeploymentStageprod4BA0C96B"},"/POST/create-project"]]}}}},"ApiPermission.Test.CreateProjectStackCreateProjectApi4BA50C0B.POST..create-project":{"id":"ApiPermission.Test.CreateProjectStackCreateProjectApi4BA50C0B.POST..create-project","path":"CreateProjectStack/CreateProjectApi/Default/create-project/POST/ApiPermission.Test.CreateProjectStackCreateProjectApi4BA50C0B.POST..create-project","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["CreateProjectFunction0FC649A9","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:eu-south-2:",{"Ref":"AWS::AccountId"},":",{"Ref":"CreateProjectApi5DF64835"},"/test-invoke-stage/POST/create-project"]]}}}},"Resource":{"id":"Resource","path":"CreateProjectStack/CreateProjectApi/Default/create-project/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:eu-south-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["CreateProjectFunction0FC649A9","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"methodResponses":[{"statusCode":"200"},{"statusCode":"400"},{"statusCode":"403"},{"statusCode":"409"}],"resourceId":{"Ref":"CreateProjectApicreateproject3FEDB622"},"restApiId":{"Ref":"CreateProjectApi5DF64835"}}}}}}}}}}}},"TestDeployment":{"id":"TestDeployment","path":"CreateProjectStack/TestDeployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/TestDeployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"restApiId":{"Ref":"CreateProjectApi5DF64835"}}}}}},"TestStage":{"id":"TestStage","path":"CreateProjectStack/TestStage","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CreateProjectStack/TestStage/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"TestDeploymentD77B5686bc2dd17a9069ca3a97297c40504038cc"},"restApiId":{"Ref":"CreateProjectApi5DF64835"},"stageName":"test"}}}}},"ApiUrlProd":{"id":"ApiUrlProd","path":"CreateProjectStack/ApiUrlProd","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"ApiUrlTest":{"id":"ApiUrlTest","path":"CreateProjectStack/ApiUrlTest","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"CreateProjectStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"CreateProjectStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"CreateProjectStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.211.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"CreateProjectStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.211.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}