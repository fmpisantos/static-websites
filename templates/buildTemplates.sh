#!/bin/bash

for dir in */; do
    template_name="${dir%/}"
    template_path="../templates/$template_name"
    echo "$template_path"
    node ../htmlExtractor.js "$template_path"
    cp "$template_path/index.html" "$template_path/index.processed.html"
    sed -i '' 's|<body>|<body><header id="modernHeader" style="position: absolute; top: 0; left: 0; right: 0; z-index: 1000; background: rgba(255, 255, 255, 0.85); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border-bottom: 1px solid rgba(255, 255, 255, 0.2); transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); font-family: '\''Inter'\'', -apple-system, BlinkMacSystemFont, sans-serif;"> <div style="max-width: 1200px; margin: 0 auto; padding: 0 2rem; display: flex; align-items: center; justify-content: space-between; height: 70px;"> <a href="#" style="font-size: 1.5rem; font-weight: 700; background: linear-gradient(135deg, rgb(14, 165, 233), rgb(2, 132, 199)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; text-decoration: none; transition: transform 0.2s ease; color: rgb(14, 165, 233);">YourBrand</a> <nav style="display: flex; align-items: center; gap: 1rem;"> <button onclick="selectHeaderOption('\''template'\'')" style="display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1.5rem; background: transparent; border: 2px solid transparent; border-radius: 12px; font-weight: 600; font-size: 0.95rem; color: #0f172a; text-decoration: none; cursor: pointer; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); position: relative; overflow: hidden;"> <svg style="width: 18px; height: 18px; transition: transform 0.2s ease;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <path d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path> </svg> Template </button> <button onclick="selectHeaderOption('\''more-templates'\'')" style="display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1.5rem; background: linear-gradient(135deg, rgb(14, 165, 233), rgb(2, 132, 199)); color: white; box-shadow: 0 4px 15px rgba(14, 165, 233, 0.3); border: 2px solid transparent; border-radius: 12px; font-weight: 600; font-size: 0.95rem; text-decoration: none; cursor: pointer; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); position: relative; overflow: hidden;"> <svg style="width: 18px; height: 18px; transition: transform 0.2s ease;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <path d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path> </svg> More Templates </button> </nav> </div> </header>|' "$template_path/index.html"
    TEMPLATE="$template_name" npm run build
done
